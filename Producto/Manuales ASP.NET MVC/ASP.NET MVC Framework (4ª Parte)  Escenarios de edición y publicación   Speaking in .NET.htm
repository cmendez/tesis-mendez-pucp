<!DOCTYPE html>
<!-- saved from url=(0104)http://speakingin.net/2007/12/15/aspnet-mvc-framework-4%c2%aa-parte-escenarios-de-edicion-y-publicacion/ -->
<html lang="es-ES"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>ASP.NET MVC Framework (4ª Parte): Escenarios de edición y publicación | Speaking in .NET</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="http://speakingin.net/xmlrpc.php">
<!--[if lt IE 9]>
<script src="http://speakingin.net/wp-content/themes/twentytwelve/js/html5.js" type="text/javascript"></script>
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="Speaking in .NET » Feed" href="http://speakingin.net/feed/">
<link rel="alternate" type="application/rss+xml" title="Speaking in .NET » RSS de los comentarios" href="http://speakingin.net/comments/feed/">

            <script src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/quant.js" async="" type="text/javascript"></script><script type="text/javascript" async="" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/ga.js"></script><script type="text/javascript">//<![CDATA[
            // Google Analytics for WordPress by Yoast v4.3.3 | http://yoast.com/wordpress/google-analytics/
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-3247399-3']);
				            _gaq.push(['_trackPageview']);
            (function () {
                var ga = document.createElement('script');
                ga.type = 'text/javascript';
                ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(ga, s);
            })();
            //]]></script>
			<link rel="alternate" type="application/rss+xml" title="Speaking in .NET » ASP.NET MVC Framework (4ª Parte): Escenarios de edición y publicación RSS de los comentarios" href="http://speakingin.net/2007/12/15/aspnet-mvc-framework-4%c2%aa-parte-escenarios-de-edicion-y-publicacion/feed/">
<link rel="stylesheet" id="colorbox-theme1-css" href="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/colorbox.css" type="text/css" media="screen">
<link rel="stylesheet" id="farbtastic-css" href="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/farbtastic.css" type="text/css" media="all">
<link rel="stylesheet" id="jetpack-widgets-css" href="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/widgets.css" type="text/css" media="all">
<link rel="stylesheet" id="twentytwelve-fonts-css" href="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/css" type="text/css" media="all">
<link rel="stylesheet" id="twentytwelve-style-css" href="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/style.css" type="text/css" media="all">
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='http://speakingin.net/wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<link rel="stylesheet" id="sharedaddy-css" href="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/sharing.css" type="text/css" media="all">
<script type="text/javascript" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/jquery.js"></script>
<script type="text/javascript" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/jquery-migrate.min.js"></script>
<script type="text/javascript" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/jquery.colorbox-min.js"></script>
<script type="text/javascript" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/jquery.tagcanvas.min.js"></script>
<script type="text/javascript" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/comment-reply.min.js"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://speakingin.net/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://speakingin.net/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Links del 8 de Diciembre: ASP.NET, ASP.NET AJAX, ASP.NET MVC, .NET, VS 2008" href="http://speakingin.net/2007/12/08/links-del-8-de-diciembre-aspnet-aspnet-ajax-aspnet-mvc-net-vs-2008/">
<link rel="next" title="Publicada ASP.NET 3.5 Extensions CTP." href="http://speakingin.net/2007/12/16/publicada-aspnet-35-extensions-ctp/">
<meta name="generator" content="WordPress 3.6">
<link rel="canonical" href="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET.htm">
<link rel="shortlink" href="http://wp.me/p1JfOR-28">
		<script type="text/javascript" charset="utf-8">
			var href = "http://speakingin.net";
			// solves the issue where app mode does not set the correct UA String.
			if ( window.navigator.standalone ) {
				href += "?onswipe_redirect=yes";
				location.href = href;
			};
			try{
			// make reader urls work backwards.
				href += "?p=" + location.hash.match(/\#!\/entry\/.+,(\d+)$/)[1];
				location.href = href;
			}catch(e){}		
		</script>
		
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article">
<meta property="og:title" content="ASP.NET MVC Framework (4ª Parte): Escenarios de edición y publicación">
<meta property="og:url" content="http://speakingin.net/2007/12/15/aspnet-mvc-framework-4%c2%aa-parte-escenarios-de-edicion-y-publicacion/">
<meta property="og:description" content="En estas semanas he estado trabajando en una serie de post sobre ASP.NET MVC. Es una solución que podemos usar para estructurar las aplicaciones web ASP.NET para separar conceptos, y hacer más senc...">
<meta property="og:site_name" content="Speaking in .NET">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step1.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step2.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step3.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step4.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step5.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step6.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step7.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step8.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step9.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step10.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step11.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step12.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step13.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step14.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step15.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step16.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step17.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step18.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step19.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step21.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step20.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step22.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step24.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step25.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step23.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step26.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step27.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step28.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step29.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step31.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step30.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step32.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step33.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step34.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step35.png">
<meta property="og:image" content="http://www.scottgu.com/blogposts/mvc4/step36.png">
<meta name="twitter:site" content="@jetpack">
<meta name="twitter:image0" content="http://www.scottgu.com/blogposts/mvc4/step1.png">
<meta name="twitter:image1" content="http://www.scottgu.com/blogposts/mvc4/step2.png">
<meta name="twitter:image2" content="http://www.scottgu.com/blogposts/mvc4/step3.png">
<meta name="twitter:image3" content="http://www.scottgu.com/blogposts/mvc4/step4.png">
<meta name="twitter:card" content="gallery">
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<!-- jQuery Lightbox For Native Galleries v3.2.2 | http://www.viper007bond.com/wordpress-plugins/jquery-lightbox-for-native-galleries/ -->
<script type="text/javascript">
// <![CDATA[
	jQuery(document).ready(function($){
		$(".gallery").each(function(index, obj){
			var galleryid = Math.floor(Math.random()*10000);
			$(obj).find("a").colorbox({rel:galleryid, maxWidth:"95%", maxHeight:"95%"});
		});
		$("a.lightbox").colorbox({maxWidth:"95%", maxHeight:"95%"});
	});
// ]]>
</script>
	<style type="text/css">
			.site-title,
		.site-description {
			position: absolute !important;
			clip: rect(1px 1px 1px 1px); /* IE7 */
			clip: rect(1px, 1px, 1px, 1px);
		}
		</style>
	<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #e6e6e6; }
</style>
<style type="text/css" id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/saved_resource">
		<link rel="stylesheet" type="text/css" id="gravatar-card-css" href="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/hovercard.css"><link rel="stylesheet" type="text/css" id="gravatar-card-services-css" href="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/services.css"></head>

<body class="single single-post postid-132 single-format-standard custom-background custom-font-enabled single-author" style=""><div id="cboxOverlay" style="display: none;"></div><div id="colorbox" class="" style="padding-bottom: 42px; padding-right: 42px; display: none;"><div id="cboxWrapper"><div><div id="cboxTopLeft" style="float: left;"></div><div id="cboxTopCenter" style="float: left;"></div><div id="cboxTopRight" style="float: left;"></div></div><div style="clear:left"><div id="cboxMiddleLeft" style="float: left;"></div><div id="cboxContent" style="float: left;"><div id="cboxLoadedContent" style="width:0; height:0; overflow:hidden" class=""></div><div id="cboxLoadingOverlay" class=""></div><div id="cboxLoadingGraphic" class=""></div><div id="cboxTitle" class=""></div><div id="cboxCurrent" class=""></div><div id="cboxNext" class=""></div><div id="cboxPrevious" class=""></div><div id="cboxSlideshow" class=""></div><div id="cboxClose" class=""></div></div><div id="cboxMiddleRight" style="float: left;"></div></div><div style="clear:left"><div id="cboxBottomLeft" style="float: left;"></div><div id="cboxBottomCenter" style="float: left;"></div><div id="cboxBottomRight" style="float: left;"></div></div></div><div style="position:absolute; width:9999px; visibility:hidden; display:none"></div></div>
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<hgroup>
			<h1 class="site-title"><a href="http://speakingin.net/" title="Speaking in .NET" rel="home">Speaking in .NET</a></h1>
			<h2 class="site-description">2007 – 2012</h2>
		</hgroup>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<h3 class="menu-toggle">Menú</h3>
			<a class="assistive-text" href="http://speakingin.net/2007/12/15/aspnet-mvc-framework-4%c2%aa-parte-escenarios-de-edicion-y-publicacion/#content" title="Ir al contenido">Ir al contenido</a>
			<div class="menu-inicio-container"><ul id="menu-inicio" class="nav-menu"><li id="menu-item-1534" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1534"><a href="http://speakingin.net/">Home</a></li>
<li id="menu-item-1531" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1531"><a>Tutoriales</a>
<ul class="sub-menu">
	<li id="menu-item-1520" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1520"><a href="http://speakingin.net/tutorial-de-linq-to-sql/">Tutorial de LINQ to SQL</a></li>
	<li id="menu-item-1521" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1521"><a href="http://speakingin.net/tutorial-de-silverlight/">Tutorial de Silverlight</a></li>
	<li id="menu-item-1517" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1517"><a href="http://speakingin.net/tutorial-asp-net-mvc-3/">Tutorial ASP.NET MVC 3</a></li>
	<li id="menu-item-1516" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1516"><a href="http://speakingin.net/introduccion-al-aliasing/">Introducción al aliasing</a></li>
	<li id="menu-item-1518" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1518"><a href="http://speakingin.net/tutorial-svg/">Tutorial SVG</a></li>
</ul>
</li>
<li id="menu-item-1532" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1532"><a href="http://speakingin.net/lecturas-recomendadas/">Lecturas Recomendadas</a></li>
<li id="menu-item-1533" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1533"><a href="http://speakingin.net/about/">About</a></li>
<li id="menu-item-1962" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1962"><a href="http://speakingin.net/patrocinio/">Patrocinio</a></li>
</ul></div>		</nav><!-- #site-navigation -->

		<div class="div-centered">
			<a href="http://speakingin.net/"><img src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/cropped-BlogHeader.png" class="header-image" width="776" height="106" alt=""></a>
</div>
			</header><!-- #masthead -->

	<div id="main" class="wrapper">
	<div id="primary" class="site-content">
		<div id="content" role="main">

			
				
	<article id="post-132" class="post-132 post type-post status-publish format-standard hentry category-net category-asp-net category-mvc category-scott-guthrie">
				<header class="entry-header">
									<h1 class="entry-title">ASP.NET MVC Framework (4ª Parte): Escenarios de edición y publicación</h1>
										<div class="comments-link">
					<a href="http://speakingin.net/2007/12/15/aspnet-mvc-framework-4%c2%aa-parte-escenarios-de-edicion-y-publicacion/#respond" title="Comentarios en ASP.NET MVC Framework (4ª Parte): Escenarios de edición y publicación"><span class="leave-reply">Deja una respuesta</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>En estas semanas he estado trabajando en una serie de post sobre ASP.NET MVC. Es una solución que podemos usar para estructurar las aplicaciones web ASP.NET para separar conceptos, y hacer más sencillos los test unitarios de nuestro código y permitir un desarrollo dirigido por test (TDD, Test Driven Development).<span id="more-132"></span></p>
<p>En el <a href="http://speakingin.net/2007/11/18/aspnet-mvc-framework-primera-parte/">primer post </a>creamos un sitio simple de e-comerce para navegar entre los diferentes producots. Vimos algunos de los conceptos de alto nivel que hay tras MVC, y vimos cómo crear un proyecto ASP.NET MVC desde cero hasta implementar y testear esta funcionalidad. En el <a href="http://speakingin.net/2007/12/07/aspnet-mvc-framework-2%c2%aa-parte-url-routing/">segundo post </a>nos metimos más a fondo en la arquitectura de rutado de ASP.NET MVCy hablamos sobre cómo funionab y cómo podemos manejar escenarios de rutado de urls más avanzados. En el <a href="http://speakingin.net/2007/12/08/aspnet-mvc-framework-3%c2%aa-parte-pasando-viewdata-desde-controladores-a-las-vistas/">tercer post </a>vimos cómo interactúan los controladores con las vistas, y vimos las diferentes formas que hay de pasar datos de un controlador a una vista para renderizar la respuesta.</p>
<p>En el post de hoy veremos algunas formas de manejar las entradas y salidas con el framework MVC, y hablaremos sobre algunos métodos de extensión de HTML que podemos usar para hacer que los escenarios de edición de datos sean más fáciles. <a href="http://www.scottgu.com/blogposts/mvc4/mvcapplication5.zip" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;download&#39;,&#39;http://www.scottgu.com/blogposts/mvc4/mvcapplication5.zip&#39;]);">Aquí </a>tenéis el código de la aplicación completa que vamos a crear para explicar estos conceptos.</p>
<p><strong>Escenarios</strong></p>
<p>Para comprender lo básico de administrar los escenarios de input y posting con ASP.NET MVC, vamos a crear un escenario de creación, modificación y listado de productos. Habrá tres experiencias de usuario:</p>
<p><em>Listar productos por categoría</em></p>
<p>Los usuarios podrán ver todos los productos de una categoría navegando a la url <em>/Products/Category/[CategoryID]:</em></p>
<p><em><img border="0" width="697" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step1.png" height="674"></em></p>
<p><em>Añadir un nuevo producto</em></p>
<p>Los usuarios serán capaces de añadir productos haciendo clic en el&nbsp;link "Add New Product". Esto les lleva a la url /<em>Products/New - </em>entonces se le pedirá que introduzca los datos necesarios para añadir un producto:</p>
<p><img border="0" width="653" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step2.png" height="528"></p>
<p>Cuando le den al botón Save, el producto se añadirá a la base de datos y se le redireccionará a la página de listado.</p>
<p><em>Edición de un producto</em></p>
<p>En la página de listado, los usuarios pueden hacer clic en el link "Edit" en cada producto. Esto les redirecciona a una url del tipo /<em>Products/Edit/[ProductID] </em>en la que podrán cambiar cualquier detalle y guardarlo en la base de datos cuando le den al botón Save:</p>
<p><img border="0" width="652" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step3.png" height="528"></p>
<p><strong>Nuestro modelo de datos</strong></p>
<p>Vamos a usar la base de datos de ejemplo Northwind para guardar nuestors datos. usaremos LINQ to SQL para modelar los objetos Products, Category y Supplier que representan las filas en nuestras tablas.</p>
<p>Hacemos clic derecho en el directorio /Models y hacemos clic en "Add New Item" -&gt; "LINQ to SQL Classes" y veremos el <a href="http://speakingin.net/2007/05/30/linq-to-sql-2%c2%aa-parte-definiendo-nuestras-clases-del-modelo-de-datos/">diseñador de LINQ to SQL</a>:</p>
<p><img border="0" width="521" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step4.png" height="624"></p>
<p>Crearemos una clase parcial NorthwindDataContext y añaderemos algunos métodos de ayuda. Definiremos estos métodos por dos razones: 1) nos evita tener que meter las consultas LINQ en las clases Controlladores y 2) nos permite adaptar más fácilmente nuestro controlador&nbsp; para que use dependency injection más adelante.</p>
<p>Los métodos que añadiremos a NorthwindDataContext son:</p>
<p><img border="0" width="633" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step5.png" height="687"></p>
<p>Para aprender más sobre LINQ y LINQ to SQL echadle un vistado al <a href="http://speakingin.net/2007/09/08/linq-to-sql-parte-9-uso-de-expresiones-linq-personalizadas-con-el-control/">tutorial</a>.</p>
<p><strong>Creando la clase ProductsController</strong></p>
<p>Vamos a implementar el núcleo para las tres experiencia de navegación con una sola clase controlador - que llamaremos "ProductsController" (clic derecho en el direcotrio "Controllers" y le damos a "Add New Item"-&gt;"MVC Controller" para crearla:</p>
<p><img border="0" width="233" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step6.png" height="471"></p>
<p>La clase ProductsController trabajara con urls del tipo /Products/Category/3, /Products/New y /Products/Edit/5 para implementar las acciones "Category", "new" y "Edit":</p>
<p><img border="0" width="602" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step7.png" height="596"></p>
<p>Leed los dos primeros post de esta serie para aprender más sobre cómo se rutan estas urls a los métodos de acción de los controladores. Para este ejemplo usaremos la regla por defecto /[Controller]/[Action]/[Id] - con lo que no tendremos que configurar nada para que ocurra el rutado.</p>
<p>Las acciones del controlador usarán tres páginas de Vistas para renderizar la salida. Las páginas "List.aspx", "New.aspx" y "Edit.aspx" estarán en el directorio ViewsProducts, y se basarán en la master Site.Master que está en el directorio ViewsShared.</p>
<p><strong>Implementando el listado por categorías</strong></p>
<p>La primera parte que implementaremos será el listado de productos (/Products/Category/[CategoryId]):</p>
<p><img border="0" width="697" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step1.png" height="674"></p>
<p>Implementaremos esta funcionalidad usando la acción Category de la clase ProductsController. Usaremos la clase de LINQ to SQL DataContext, y el método GetCategoryById que añadimos, para obtener un objeto Category que representa la categoría que se indica en la url (por ejemplo: /Produtcs/Category/3). Pasaremos el objeto Category a la vista "List" para que renderize la respuesta:</p>
<p><img border="0" width="606" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step8.png" height="372"></p>
<p>&nbsp;Cuando implementemos esta vista primero actualizaremos el code-behind para que derive de ViewPage&lt;Category&gt; de manera que la propiedad ViewData sea del tipo Category que le pasamos al controlador (en el tercer post de la serie se ve esto en más detalle):</p>
<p><img border="0" width="467" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step9.png" height="209"></p>
<p>Ahora implementamos el List.aspx de la siguiente forma:</p>
<p><img border="0" width="819" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step10.png" height="418"></p>
<p>Este aspx renderiza el nombre de la categoría al principio de la página, y luego renderiza una lista de productos de esa categoría.</p>
<p>Al lado de cada producto hay un enlace "Edit". Usaremos el método de acción Html.ActionLink que vimos en la segunda parte para renderizar un hyperlink HTML (por ejemplo: &lt;a href="/Products/Edit/4" mce_href="/Products/Edit/4"&gt;Edit&lt;/a&gt; que cuando lo pulsemos hará que el usuario navegue a la acción "Edit". También usaremos el método ActionLink para que en la parte de arriba aparezca el link &lt;a href="/Products/New" mce_href="/Products/New"&gt;Add New Product &lt;/a&gt; que actuará en consecuencia.</p>
<p>Cuando vamos a la url /Products/Category/1 y le damos a ver el código fuente desde el navegador, veremos que MVC a emitido un código HTML muy limpio:</p>
<p><img border="0" width="443" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step11.png" height="299"></p>
<p><strong>Implementación de añadir producto (Primera parte)</strong></p>
<p>Vamos a implementar la funcionalidad para añadir un producto. Querremos que los usuarios vean una pantalla como la siguiente cuando vayan a la url /Products/New:</p>
<p><img border="0" width="653" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step2.png" height="528"></p>
<p>En la entrada y edicion de datos ASP.NET MVC se basa en dos métodos de acción de las clases controladoras. El primero se encqarga de mandar el HTML inicial para mostrar. El segundo administra cualquier misión secundaria que se mande desde el navegador.</p>
<p>Por ejemplo, para la pantalla anterior podríamos implementarlo a través de dos acciones diferentes de ProductsController, uno llamado "New" y otro llamado "Create". La url /Products/New sería responsable de mostrar un form vacío con cajas de texto HTML y&nbsp;listas desplegales para introducir los detalles del nuevo producto. El elemento HTML &lt;form&gt; tendrá un atributo "action" en la url /Products/Create. Con esto, cuando un usuario haga clic en el boton de submit, las entradas del formulario se enviará a la acción Create y actualizará la base de datos:</p>
<p><img border="0" width="816" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step12.png" height="413"></p>
<p><strong>Implementación de añadir producto (Segunda parte)</strong></p>
<p>Aquí tenéis una primera implementación que podríamos usar para el ProductsController:</p>
<p><img border="0" width="862" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step13.png" height="755"></p>
<p>Notad que ahora tenemos dos métodos de acción involucrados en el proceso de creación de productos - "New" y "Create". El método "New" sólo muestra un formulario vacío al usuario. El método "Create" ees el que procesa los valores que hay en el formulario, crea el nuevo producto en la base de datos y redirige al usuario a la página de listado de categorías del producto.</p>
<p>El HTML enviado al cliente está implementado en la vista "New.aspx" llamada por el método de acción "New". Una primera implementación de esto (usando cajas de texto para todo) podría ser este:</p>
<p><img border="0" width="741" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step14.png" height="593"></p>
<p>Fijaos cómo usamos un elemento HTML stándar &lt;form&gt; en la página (no un form runat=server). El atributo "action" del form apunta al método de acción "Create" de la clase ProductsController. Habrá un postback cuando se pulse el boton &lt;input type=submit value=save/&gt;. Cuando esto ocurra, ASP.NET MVC mapeara el ProductNam, CategoryID, SupplierId y UnitPrice como parámetros del método "Create":</p>
<p><img border="0" width="758" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step15.png" height="255"></p>
<p>Y ahora cuando ejecutemos nuestro sitio, la funcionalidad básica funciona:</p>
<p><img border="0" width="647" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step16.png" height="503"></p>
<p><strong>Implementación de añadir producto (Tercera parte - con listas desplegables)</strong></p>
<p>La ventana de entrada de productos que hemos creado funciona, pero no es muy agradable. Es necesario que el usuario sepa los números CategoryID y SupplierID. Arreglaremos esto con una lista desplegable HTML con los nombres de las categorías y de los suministradores.</p>
<p>El primer paso es modificar la clase ProductsController para que le pase a la vista dos colecciones - una que contenga la lista de las categorías, y otra con los suministradores. Haremos esto creando una clase fuertemente tipada ProductsNewViewData que los encapsule, y que le pasaremos a la vista (esta parte la explicamos a fondo en <a href="http://speakingin.net/2007/12/08/aspnet-mvc-framework-3%c2%aa-parte-pasando-viewdata-desde-controladores-a-las-vistas/">el tercer post de la serie</a>):</p>
<p><img border="0" width="470" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step17.png" height="105"></p>
<p>Ahora actualizamos el método de acción New para que obtenga estas colecciones y las pase al ViewData para la vista New:</p>
<p><img border="0" width="541" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step18.png" height="210"></p>
<p>Ahora podemos usar estas colecciones en la vista para que genere las listas desplegables HTML &lt;select&gt;</p>
<p><em>ASP.NET MVC HTML Helpers</em></p>
<p>Una solución que podemos usar es generar los desplegables manualmente con el código inline &lt;%%&gt; con un bucle que contenga sentencias if/else en el HTML. Esto nos da un control total sobre el HTML -pero haría el HTML desordenado.</p>
<p>Una forma más clara es ayudarnos de la propiedad "Html" en la clase base ViewPage. Este es un objeto que expone un conjunto de métodos de ayuda HTML que generan componentes HTML. Por ejemplo, anteriormente usamos el método Html.ActionLink para generar elementos &lt;a href=""&gt;</p>
<p><img border="0" width="672" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step19.png" height="202"></p>
<p>El objeto HtmlHelper (así como el objeto AjaxHelper - del que hablaremos en otro post) ha sido diseñado para ser fácilmente extendido usando métodos de extensión. De manera que cualquiera puede crear sus propios métodos de ayuda para estos objetos.</p>
<p>Tenemos docenas de métodos HTML y AJAX para integrarlos en futuras versiones de ASP.NET MVC. En la primera versión sólo el método ActionLink está en System.Web.Extensions (en este assembly está el núcleo de ASP.NET MVC). También tenemos una MVCToolkit a parte para descargar que podeis añadir a vuestro proyecto para tener docenas de métodos auxiliares.</p>
<p>Para instalar los métodos de MVCToolkit, sólo añadid la dll MVCToolkit como referencia:</p>
<p><img border="0" width="229" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step21.png" height="433"></p>
<p>Recompilad el proyecto. Y la próxima vez que escribais &lt;%=Html. %&gt; vereis muchos más métodos:</p>
<p><img border="0" width="285" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step20.png" height="257"></p>
<p>Para crear las listas &lt;select&gt; podéis usar el método Html.Select(). Cada método viene con varias sobrecargas - todas con intellisense:</p>
<p><img border="0" width="719" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step22.png" height="73"></p>
<p>Podemos actualizar la vista "New" para que use las opciones de Html.Select y que muestre los desplegables que usará las propiedades CategoryId/SupplierID como valores a usar y que muestre los nombres:</p>
<p><img border="0" width="745" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step24.png" height="597"></p>
<p>Esto generará el HTML apropiado en ejecución:</p>
<p><img border="0" width="606" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step25.png" height="272"></p>
<p>Y les da a los usuarios una forma fácil de seleccionar la categoría y el suministrador:</p>
<p><img border="0" width="381" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step23.png" height="306"></p>
<p><strong>Implementación de añadir producto (Cuarta parte - con el método UpdateFrom)</strong></p>
<p>El método de acción "Create" de ProductsController es el responable de administrar los postback del escenario de añadir productos. Usa los parámetros como argumentos para el método de acción:</p>
<p><img border="0" width="753" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step26.png" height="263"></p>
<p>Esta forma funciona bien - pero para formularios con muchos datos y parámetros los métodos de acción pueden ser un poco pesados de leer. El código anterior que pone todos los valores de los parametros para el nuevo producto es ya un poco largo.</p>
<p>Si referenciamos el assembly MVCToolkit, podemos usar un método de extensión que hay en System.Web.Mvc.BindingHelpers que nos puede ayudar a limpiarlo un poco. Se llama "UpdateFrom" y se puede usar en cualquier objeto .NET. Toma un diccionario de valores como argumento y hace una asiganación automática de propiedades para cualquier clave que tenga una propiedad pública.</p>
<p>Por ejemplo, podemos reescribir el método Create para que use UpdateFrom:</p>
<p><img border="0" width="630" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step27.png" height="218"></p>
<p>Nota: Si queréis ser más explícitos por temas de seguridad y que sólo algunas propiedades puedan ser actualizadas, podeis parar un array de strings con los nombres de las propiedades para actualizar el método UpdateFrom:</p>
<p><img border="0" width="846" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step28.png" height="72"></p>
<p><strong>Implementando la edición de productos (Primera Parte)</strong></p>
<p>Ahora vamos a implementar la funcionalidad de edición de productos. Querremos que los usuarios vean una pantalla como la siguiente cuando visiten una url del tipo /Products/Edit/[ProductId]:</p>
<p><img border="0" width="652" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step3.png" height="528"></p>
<p>Como en el formulario de añadir producto, vamos a implementar esto usando dos acciones de ProductsController que llmaremos "Edit" y "Update":</p>
<p><img border="0" width="818" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step29.png" height="403"></p>
<p>"Edit" mostrará los datos del producto: "Update" será usado para modificarlo.</p>
<p><strong>Implementando la edición de productos (Segunda parte - Accion Edit)</strong></p>
<p>Empezaremos habilitando la funcionalidad de edición implementando el método de acción Edit en ProductController. Cuando creamos la página de listado al principio, lo hicimos de forma que la ación edicion tomará el argumento de la URL (Por ejemplo: /Products/Edit/5):</p>
<p><img border="0" width="281" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step31.png" height="122"></p>
<p>Queremos que el método de acción obtenga los datos del producto correcto de la base de datos, y las colecciones necesarias para los suministradores y las categorías (para que podamos poner unos desplegables en la vista de edición). Definiremos un tipo fuertemente tipado para que represente todo esto en ProductsEditViewData:</p>
<p><img src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step30.png"></p>
<p>Podemos implemnetar el método de acción edit para que obtenga los datos del objeto ViewData y renderize la vista "Edit":</p>
<p><img src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step32.png"></p>
<p><strong>Implementando la edición de productos (Segunda parte - Vista Edit)</strong></p>
<p>Podemos implementar la vista Edit.aspx de la siguiente forma:<img border="0" width="924" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step33.png" height="586"></p>
<p>Fijáos cómo usamos los métodos Html.TextBox y Html.Select. Ambos están en el assembly MVCToolkit.</p>
<p>FIjáos´que el método Html.Select tiene una sobrecarga que nos permite especificar cual es el valor para seleccionar en el desplegable. En el siguiente código le estamos diciendo que queremos que la categoría del desplegable que se seleccionará por defecto sea la de la categoría actual del producto:</p>
<p><img border="0" width="792" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step34.png" height="74"></p>
<p>Por último, fijáos cómo estamos usando el método Url.Action() para poner los elementos &lt;form&gt; :</p>
<p><img border="0" width="857" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step35.png" height="39"></p>
<p>Los métodos Url.Action y Html.ActionLink usan el motor de rutado de MVC para generar las urls (en la segunda parte de la serie vimos cómo funciona). Con esto, si cambiamos las reglas de rutado para la edición, no tendremos que cambiar ningún código del controlador o de la vista. Por ejemplo, podríamos remapear las urls de la forma /Products/1/Edit, y todo seguría funcionando igual.</p>
<p><strong>Implementando la edición de productos (Tercera parte - Actualizar)</strong></p>
<p>El último paso es implementar el método de acción "Update" de la clase ProductController:</p>
<p><img border="0" width="635" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/step36.png" height="211"></p>
<p>Como en el método "Create" usaremos el método de extensión "UpdateFrom" para obtener los datos del producto de la petición. Fijáos que en vez de obtener un producto vacío, estamos usando un patron donde el primero obtiene los valores antiguos de la base de datos, le aplica los cambios y los guarda en la base de datos.</p>
<p>Una vez que se ha hecho la edición, volvemos a la página de listado de productos - y nos vamos a la categoría del producto modificado /products/Category/[CategoryID].</p>
<p><strong>Resumen</strong></p>
<p>Hemos visto algunos detalles más sobre cómo implentaríamos los escenarios de modificar y crear objetos con el ASP.NET MVC Framework, y hemos visto como podemos usar y estructurar escenarios de edición e inserción de datos.</p>
<p><a href="http://www.scottgu.com/blogposts/mvc4/mvcapplication5.zip" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;download&#39;,&#39;http://www.scottgu.com/blogposts/mvc4/mvcapplication5.zip&#39;]);">Aquí </a>tenéis un archivo zip con todo el código fuente del ejemplo que hemos creado.</p>
<p>En proximos post veremos cómo usar la validación y la recuperación de errores en escenarios de entrada y edición de datos. Hablarémos sobre algunos temas sobre seguridad para permitir la creación de apliaciones rápidamente. Veremos cómo usar ASP.NET AJAX para hacer sitios de edición con AJAX y MVC. Y veremos más a fondo cómo podemos crear test unitarios en nuestro controladores.</p>
<p>Espero que sirva.</p>
<p>Scott.</p>
<p>Traducido por: Juan María Laó Ramos. Microsoft Student Partner</p>
<p>Artículo original: <a href="http://weblogs.asp.net/scottgu/archive/2007/12/09/asp-net-mvc-framework-part-4-handling-form-edit-and-post-scenarios.aspx" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;http://weblogs.asp.net&#39;]);">http://weblogs.asp.net/scottgu/archive/2007/12/09/asp-net-mvc-framework-part-4-handling-form-edit-and-post-scenarios.aspx</a></p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Comparte esto:</h3><div class="sd-content"><ul><li class="share-facebook"><a rel="nofollow" class="share-facebook sd-button share-icon" href="http://speakingin.net/2007/12/15/aspnet-mvc-framework-4%c2%aa-parte-escenarios-de-edicion-y-publicacion/?share=facebook&nb=1" title="Compartir en Facebook" id="sharing-facebook-132"><span>Facebook</span></a></li><li class="share-twitter"><a rel="nofollow" class="share-twitter sd-button share-icon" href="http://speakingin.net/2007/12/15/aspnet-mvc-framework-4%c2%aa-parte-escenarios-de-edicion-y-publicacion/?share=twitter&nb=1" title="Haz clic para compartir en Twitter" id="sharing-twitter-132"><span>Twitter</span></a></li><li class="share-linkedin"><a rel="nofollow" class="share-linkedin sd-button share-icon" href="http://speakingin.net/2007/12/15/aspnet-mvc-framework-4%c2%aa-parte-escenarios-de-edicion-y-publicacion/?share=linkedin&nb=1" title="Haz clic aquí para compartir en LinkedIn" id="sharing-linkedin-132"><span>LinkedIn</span></a></li><li><a href="http://speakingin.net/2007/12/15/aspnet-mvc-framework-4%c2%aa-parte-escenarios-de-edicion-y-publicacion/#" class="sharing-anchor sd-button share-more"><span>Más</span></a></li><li class="share-end"></li></ul><div class="sharing-hidden"><div class="inner" style="display: none;width:150px;"><ul style="background-image:none;"><li class="share-google-plus-1"><a rel="nofollow" class="share-google-plus-1 sd-button share-icon" href="http://speakingin.net/2007/12/15/aspnet-mvc-framework-4%c2%aa-parte-escenarios-de-edicion-y-publicacion/?share=google-plus-1&nb=1" title="Haz clic para compartir en Google+" id="sharing-google-132"><span>Google +1</span></a></li><li class="share-end"></li></ul></div></div></div></div></div>					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			Esta entrada fue publicada en <a href="http://speakingin.net/category/net/" title="Ver todas las entradas en .NET" rel="category tag">.NET</a>, <a href="http://speakingin.net/category/asp-net/" title="Ver todas las entradas en ASP .NET" rel="category tag">ASP .NET</a>, <a href="http://speakingin.net/category/mvc/" title="Ver todas las entradas en MVC" rel="category tag">MVC</a>, <a href="http://speakingin.net/category/scott-guthrie/" title="Ver todas las entradas en Scott Guthrië" rel="category tag">Scott Guthrië</a> el <a href="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET.htm" title="17:47" rel="bookmark"><time class="entry-date" datetime="2007-12-15T17:47:08+00:00">15 diciembre, 2007</time></a><span class="by-author"> por <span class="author vcard"><a class="url fn n" href="http://speakingin.net/author/juanma/" title="Ver todas las entradas de juanlao" rel="author">juanlao</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
				<nav class="nav-single">
					<h3 class="assistive-text">Navegación de entradas</h3>
					<span class="nav-previous"><a href="http://speakingin.net/2007/12/08/links-del-8-de-diciembre-aspnet-aspnet-ajax-aspnet-mvc-net-vs-2008/" rel="prev"><span class="meta-nav">←</span> Links del 8 de Diciembre: ASP.NET, ASP.NET AJAX, ASP.NET MVC, .NET, VS 2008</a></span>
					<span class="nav-next"><a href="http://speakingin.net/2007/12/16/publicada-aspnet-35-extensions-ctp/" rel="next">Publicada ASP.NET 3.5 Extensions CTP. <span class="meta-nav">→</span></a></span>
				</nav><!-- .nav-single -->

				
<div id="comments" class="comments-area">

	
	
									<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Deja un comentario <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://speakingin.net/2007/12/15/aspnet-mvc-framework-4%c2%aa-parte-escenarios-de-edicion-y-publicacion/#respond" style="display:none;">Cancelar respuesta</a></small></h3>
									<form action="http://speakingin.net/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																			<p class="comment-notes">Tu dirección de correo electrónico no será publicada. Los campos necesarios están marcados <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Nombre <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required="true"></p>
<p class="comment-form-email"><label for="email">Correo electrónico <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" aria-required="true"></p>
<p class="comment-form-url"><label for="url">Web</label> <input id="url" name="url" type="text" value="" size="30"></p>
												<p class="comment-form-comment"><label for="comment">Comentario</label> <textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">Puedes usar las siguientes etiquetas y atributos <abbr title="HyperText Markup Language">HTML</abbr>:  <code>&lt;a href="" title=""&gt; &lt;abbr title=""&gt; &lt;acronym title=""&gt; &lt;b&gt; &lt;blockquote cite=""&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=""&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=""&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Publicar comentario">
							<input type="hidden" name="comment_post_ID" value="132" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="fa4b847994"></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_comments" id="subscribe_comments" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;"> <label class="subscribe-label" id="subscribe-label" for="subscribe_comments" style="display: inline;">Recibir un email con los siguientes comentarios a esta entrada.</label></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;"> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog" style="display: inline;">Recibir un email con cada nuevo post.</label></p>					</form>
							</div><!-- #respond -->
			        <script type="text/javascript">
            jQuery(document).ready(function () {
                jQuery('#commentform').submit(function () {
                    _gaq.push(
                            ['_setAccount', 'UA-3247399-3'],
                            ['_trackEvent', 'comment', 'submit']
                    );
                });
            });
        </script>
					
</div><!-- #comments .comments-area -->
			
		</div><!-- #content -->
	</div><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
			<aside id="recent-comments-2" class="widget widget_recent_comments"><h3 class="widget-title">Comentarios</h3><ul id="recentcomments"><li class="recentcomments">juanlao en <a href="http://speakingin.net/2011/12/05/zune-no-detecta-mi-windows-phone-7/#comment-4256">Zune no detecta mi Windows Phone 7</a></li><li class="recentcomments">Adrián en <a href="http://speakingin.net/2012/11/12/usar-api-skydrive-javascript-pagina-local/#comment-4224">Usar la API de SkyDrive para Javascript en una página local</a></li><li class="recentcomments">carolina en <a href="http://speakingin.net/2011/12/05/zune-no-detecta-mi-windows-phone-7/#comment-4218">Zune no detecta mi Windows Phone 7</a></li><li class="recentcomments">Bartolomé en <a href="http://speakingin.net/2013/08/23/ebook-testing-unitario-con-microsoft-fakes/#comment-4200">[ebook] Testing Unitario con Microsoft Fakes</a></li><li class="recentcomments">carlos en <a href="http://speakingin.net/2013/07/24/gtd-y-onenote/#comment-4174">GTD y OneNote</a></li></ul></aside><aside id="tag_cloud-3" class="widget widget_tag_cloud"><h3 class="widget-title">Etiquetas</h3><div class="tagcloud"><a href="http://speakingin.net/tag/net/" class="tag-link-3" title="67 temas" style="font-size: 22pt;">.NET</a>
<a href="http://speakingin.net/tag/aliasing/" class="tag-link-103" title="8 temas" style="font-size: 11.0973451327pt;">Aliasing</a>
<a href="http://speakingin.net/tag/android/" class="tag-link-125" title="8 temas" style="font-size: 11.0973451327pt;">Android</a>
<a href="http://speakingin.net/tag/antialiasing/" class="tag-link-104" title="8 temas" style="font-size: 11.0973451327pt;">Antialiasing</a>
<a href="http://speakingin.net/tag/api/" class="tag-link-42" title="7 temas" style="font-size: 10.4778761062pt;">API</a>
<a href="http://speakingin.net/tag/asp-net-2/" class="tag-link-45" title="19 temas" style="font-size: 15.4336283186pt;">ASP.NET</a>
<a href="http://speakingin.net/tag/asp-net-mvc/" class="tag-link-60" title="9 temas" style="font-size: 11.7168141593pt;">ASP.NET MVC</a>
<a href="http://speakingin.net/tag/asp-net-vnext/" class="tag-link-51" title="9 temas" style="font-size: 11.7168141593pt;">ASP.NET vNext</a>
<a href="http://speakingin.net/tag/azure/" class="tag-link-109" title="4 temas" style="font-size: 8pt;">Azure</a>
<a href="http://speakingin.net/tag/c/" class="tag-link-50" title="10 temas" style="font-size: 12.2123893805pt;">C#</a>
<a href="http://speakingin.net/tag/cellsdk/" class="tag-link-126" title="8 temas" style="font-size: 11.0973451327pt;">Cellsdk</a>
<a href="http://speakingin.net/tag/cell%c2%b7sdk/" class="tag-link-123" title="8 temas" style="font-size: 11.0973451327pt;">Cell·SDK</a>
<a href="http://speakingin.net/tag/comunidad/" class="tag-link-97" title="7 temas" style="font-size: 10.4778761062pt;">Comunidad</a>
<a href="http://speakingin.net/tag/css3/" class="tag-link-90" title="8 temas" style="font-size: 11.0973451327pt;">CSS3</a>
<a href="http://speakingin.net/tag/curiosidades/" class="tag-link-75" title="34 temas" style="font-size: 18.407079646pt;">Curiosidades</a>
<a href="http://speakingin.net/tag/desarrollo/" class="tag-link-81" title="25 temas" style="font-size: 16.796460177pt;">Desarrollo</a>
<a href="http://speakingin.net/tag/desarrollo-web/" class="tag-link-40" title="14 temas" style="font-size: 13.9469026549pt;">Desarrollo Web</a>
<a href="http://speakingin.net/tag/eventos/" class="tag-link-101" title="9 temas" style="font-size: 11.7168141593pt;">Eventos</a>
<a href="http://speakingin.net/tag/guthrie/" class="tag-link-47" title="14 temas" style="font-size: 13.9469026549pt;">Guthrie</a>
<a href="http://speakingin.net/tag/herramientas/" class="tag-link-82" title="7 temas" style="font-size: 10.4778761062pt;">herramientas</a>
<a href="http://speakingin.net/tag/html-5/" class="tag-link-57" title="11 temas" style="font-size: 12.7079646018pt;">HTML 5</a>
<a href="http://speakingin.net/tag/ie/" class="tag-link-68" title="6 temas" style="font-size: 9.85840707965pt;">IE</a>
<a href="http://speakingin.net/tag/internet-explorer/" class="tag-link-69" title="7 temas" style="font-size: 10.4778761062pt;">Internet Explorer</a>
<a href="http://speakingin.net/tag/ios/" class="tag-link-124" title="9 temas" style="font-size: 11.7168141593pt;">iOS</a>
<a href="http://speakingin.net/tag/lecturas/" class="tag-link-37" title="4 temas" style="font-size: 8pt;">Lecturas</a>
<a href="http://speakingin.net/tag/microsoft/" class="tag-link-49" title="24 temas" style="font-size: 16.6725663717pt;">Microsoft</a>
<a href="http://speakingin.net/tag/noticias/" class="tag-link-17" title="12 temas" style="font-size: 13.0796460177pt;">Noticias</a>
<a href="http://speakingin.net/tag/novedad/" class="tag-link-34" title="12 temas" style="font-size: 13.0796460177pt;">Novedad</a>
<a href="http://speakingin.net/tag/patrones-de-diseno/" class="tag-link-72" title="11 temas" style="font-size: 12.7079646018pt;">Patrones de diseño</a>
<a href="http://speakingin.net/tag/recursos/" class="tag-link-39" title="6 temas" style="font-size: 9.85840707965pt;">Recursos</a>
<a href="http://speakingin.net/tag/scott/" class="tag-link-46" title="15 temas" style="font-size: 14.1946902655pt;">Scott</a>
<a href="http://speakingin.net/tag/scottgu/" class="tag-link-52" title="13 temas" style="font-size: 13.5752212389pt;">Scottgu</a>
<a href="http://speakingin.net/tag/scott-guthrie-2/" class="tag-link-48" title="17 temas" style="font-size: 14.9380530973pt;">Scott Guthrie</a>
<a href="http://speakingin.net/tag/scott-hanselman/" class="tag-link-78" title="4 temas" style="font-size: 8pt;">Scott Hanselman</a>
<a href="http://speakingin.net/tag/silverlight/" class="tag-link-21" title="5 temas" style="font-size: 8.99115044248pt;">Silverlight</a>
<a href="http://speakingin.net/tag/software/" class="tag-link-38" title="6 temas" style="font-size: 9.85840707965pt;">Software</a>
<a href="http://speakingin.net/tag/syderis/" class="tag-link-30" title="4 temas" style="font-size: 8pt;">Syderis</a>
<a href="http://speakingin.net/tag/trucos/" class="tag-link-23" title="22 temas" style="font-size: 16.1769911504pt;">Trucos</a>
<a href="http://speakingin.net/tag/utilidades/" class="tag-link-41" title="11 temas" style="font-size: 12.7079646018pt;">Utilidades</a>
<a href="http://speakingin.net/tag/visual-studio/" class="tag-link-25" title="20 temas" style="font-size: 15.6814159292pt;">Visual Studio</a>
<a href="http://speakingin.net/tag/visual-studio-2010/" class="tag-link-58" title="9 temas" style="font-size: 11.7168141593pt;">Visual Studio 2010</a>
<a href="http://speakingin.net/tag/windows-azure/" class="tag-link-120" title="6 temas" style="font-size: 9.85840707965pt;">Windows Azure</a>
<a href="http://speakingin.net/tag/windows-phone/" class="tag-link-87" title="4 temas" style="font-size: 8pt;">Windows Phone</a>
<a href="http://speakingin.net/tag/wp7/" class="tag-link-33" title="15 temas" style="font-size: 14.1946902655pt;">WP7</a>
<a href="http://speakingin.net/tag/xna/" class="tag-link-28" title="24 temas" style="font-size: 16.6725663717pt;">XNA</a></div>
</aside>		<aside id="recent-posts-4" class="widget widget_recent_entries">		<h3 class="widget-title">Últimos posts</h3>		<ul>
					<li>
				<a href="http://speakingin.net/2013/08/23/ebook-testing-unitario-con-microsoft-fakes/" title="[ebook] Testing Unitario con Microsoft Fakes">[ebook] Testing Unitario con Microsoft Fakes</a>
						</li>
					<li>
				<a href="http://speakingin.net/2013/07/24/gtd-y-onenote/" title="GTD y OneNote">GTD y OneNote</a>
						</li>
					<li>
				<a href="http://speakingin.net/2013/07/23/stylecop-tfs-y-nuget/" title="StyleCop, TFS y Nuget">StyleCop, TFS y Nuget</a>
						</li>
					<li>
				<a href="http://speakingin.net/2013/07/22/una-experiencia-alm-2/" title="Una experiencia ALM ++">Una experiencia ALM ++</a>
						</li>
					<li>
				<a href="http://speakingin.net/2013/07/18/knock-knock-buenos-dias-developer-venimos-a-hablarle-de-tdd/" title="Knock, knock … Buenos días developer, venimos a hablarle de TDD">Knock, knock … Buenos días developer, venimos a hablarle de TDD</a>
						</li>
					<li>
				<a href="http://speakingin.net/2013/07/17/tdd-mentirosos-el-ciclo-no-es-red-green-refactor/" title="TDD: Mentirosos el ciclo no es Red – Green -Refactor">TDD: Mentirosos el ciclo no es Red – Green -Refactor</a>
						</li>
					<li>
				<a href="http://speakingin.net/2013/05/15/evento-cartujadotnet-wave-engin/" title="[Evento CartujaDotNet] Wave Engine">[Evento CartujaDotNet] Wave Engine</a>
						</li>
					<li>
				<a href="http://speakingin.net/2013/03/27/microsoft-sync-framework-2-1-com-error-80040154-class-not-registered/" title="Microsoft Sync Framework 2.1 (COM Error 80040154 Class not registered)">Microsoft Sync Framework 2.1 (COM Error 80040154 Class not registered)</a>
						</li>
					<li>
				<a href="http://speakingin.net/2013/01/09/plain-concepts-cloud-tour/" title="Plain Concepts Cloud Tour">Plain Concepts Cloud Tour</a>
						</li>
					<li>
				<a href="http://speakingin.net/2012/12/03/api-google-earth-i/" title="API Google Earth (I)">API Google Earth (I)</a>
						</li>
				</ul>
		</aside>		</div><!-- #secondary -->
		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info">
						<a href="http://es.wordpress.org/" title="Plataforma semántica de publicación personal">Creado con WordPress</a>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

	<div style="display:none">
	</div>

	<script type="text/javascript">
		WPCOM_sharing_counts = {"http:\/\/speakingin.net\/2007\/12\/15\/aspnet-mvc-framework-4%c2%aa-parte-escenarios-de-edicion-y-publicacion\/":132}	</script>
		<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-facebook' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-linkedin' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-google-plus-1' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=600,height=600' );
				return false;
			});
		});
		</script>
		<script type="text/javascript" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/devicepx-jetpack.js"></script>
<script type="text/javascript" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/gprofiles.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type="text/javascript" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/wpgroho.js"></script>
<script type="text/javascript" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/navigation.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var recaptcha_options = {"lang":"en"};
/* ]]> */
</script>
<script type="text/javascript" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/sharing.js"></script>

	<script src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/e-201336.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:2.4.2',blog:'25561909',post:'132',tz:'2'});
	var load_cmc = function(){linktracker_init(25561909,132,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script><img id="wpstats" src="./ASP.NET MVC Framework (4ª Parte)  Escenarios de edición y publicación   Speaking in .NET_files/g.gif" alt="">
</body></html>